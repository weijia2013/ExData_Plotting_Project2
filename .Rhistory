totalPM25 <- nei %>%
group_by(year) %>%
summarise(funs(sum(., na.rm = TRUE), Emissions)
totalPM25
totalPM25 <- nei %>%
group_by(year) %>%
summarise(funs(sum(., na.rm = TRUE), Emissions) %>%
totalPM25
totalPM25
library(dplyr)
totalPM25 <- nei %>%
group_by(year) %>%
summarise(funs(sum(., na.rm = TRUE), Emissions) %>%
totalPM25
totalPM25
totalPM25 <- nei %>%
group_by(year) %>%
summarise(Emissions = sum(Emission, na.rm = TRUE)) %>%
select(nei, year, Emissions)
totalPM25
source("load.data.R")
totalPM25 <- nei %>%
group_by(year) %>%
summarise(Emissions = sum(Emission, na.rm = TRUE)) %>%
select(nei, year, Emissions)
totalPM25
source("load.data.R")
totalPM25 <- nei %>%
group_by(year) %>%
summarise(Emissions = sum(Emission, na.rm = TRUE)) %>%
select(nei, year, Emissions)
totalPM25
totalPM25 <- nei %>%
group_by(year) %>%
summarise(Emissions = sum(Emissions, na.rm = TRUE)) %>%
select(nei, year, Emissions)
totalPM25
totalPM25 <- group_by(nei, year)
totalPM25
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
library(dplyr)
nei <- tbl_df(NEI)
scc <- tbl_df(SCC)
rm(NEI)
rm(SCC)
library(lubridate)
nei$year <- y(nei$year)
attach(nei)
attach(scc)
nei$year <- as.factor(nei$year)
str(nei)
source("load.data.R")
totalPM25 <- group_by(nei, year)
totalPM25
str(nei)
library(dplyr)
totalPM25 <- nei%>%
group_by(year)
totalPM25
str(totalPM25)
totalPM25 <- nei%>%
group_by(year)
totalPM25
library(hflights)
data(hflights)
flights <- tbl_df(hflights)
str(flights)
nei$year <- as.character(nei$year)
#attach(nei)
#attach(scc)
totalPM25 <- nei%>%
group_by(year)
totalPM25
class(nei$year)
flights <- group_by(flights, Month)
flights <- flights %>%
group_by(Month)
flights
flights %>%
group_by(UniqueCarrier)
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$SCC.Level.Four), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 1000, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
View(scc)
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$Short.Name), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
scc.coal
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("coal", scc$Short.Name), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
scc.coal
View(scc)
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("coal", scc$Short.Name, ignore.case = TRUE), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
scc.coal
png(filename = "p2plot4linechar.png", bg = "white", width = 1000, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
View(scc)
View(nei)
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions, ylim = c(422100,787180),col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$Short.Name), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions, ylim = c(422100,787180),col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions, ylim = c(400000,788180),col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(400000,788180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions, ylim = c(400000,788180),col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,788180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 780)
plot(scc.coal$year, scc.coal$emissions, ylim = c(400000,788180),col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 1000, height = 780)
barplot(scc.coal$emissions,col = "232",ylim = c(0,788180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 1000, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,888180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Line Chart of Trending of Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 500, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,888180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$SCC.Level.Four), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 680, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 500, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,888180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
scc.coal
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,688180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,788180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
View(scc)
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$SCC.Level.Four) | grep("[Cc]oal", scc$SCC.Level.Three), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
scc.coal
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep(grep("[Cc]oal", scc$SCC.Level.Three), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$SCC.Level.Three), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$Short.Name), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Cc]oal", scc$SCC.Level.Three), ]
nei <- inner_join(nei, scc)
scc.coal <- group_by(nei, year)
scc.coal <- summarise(scc.coal, emissions = sum(Emissions))
#linechart output
png(filename = "p2plot4linechar.png", bg = "white", width = 480, height = 480)
plot(scc.coal$year, scc.coal$emissions,col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
#bar char output
png(filename = "p2plot4barchar.png", bg = "white", width = 480, height = 480)
barplot(scc.coal$emissions,col = "232",ylim = c(0,887180),names.arg=c("1999","2002","2005","2008"),xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission"), main = "Coal Combustion Emissions in the US from 1999 to 2008")
dev.off()
View(nei)
View(scc)
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
View(scc)
table(scc$Data.Category)
View(nei)
scc <- scc[grep("Onroad", scc$Data.Category), ]
View(scc)
scc <- scc[grep("Nonroad", scc$Data.Category), ]
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
View(scc)
scc <- scc[grep("Nonroad", scc$Data.Category), ]
View(scc)
scc <- scc[grep("Onroad", scc$Data.Category), ]
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("Onroad", scc$Data.Category), ]
nei <- inner_join(nei,scc)
motor <- group_by(nei, year)
motor <- summarise(motor, emissions = sum(Emissions))
motor
library(ggplot2)
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("Onroad", scc$Data.Category), ]
nei <- inner_join(nei,scc)
motor <- filter(nei, fips == "24510")
motor <- group_by(motor, year)
motor <- summarise(motor, emissions = sum(Emissions))
motor
png(filename = "p2plot5linechar.png", bg = "white", width = 680, height = 680)
plot(motor$year, motor$emissions, col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Line Chart of Trending of Motor Vehicle Annual Emissions
in Baltimore from 1999 to 2008")
dev.off()
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("[Mm]otor", scc$Short.Name), ] #All the motor vehicle are belong to Onroad Data.Category, therefore, use Data.Category variable's Onroad type is better than orther variables matching
nei <- inner_join(nei,scc)
motor <- filter(nei, fips == "24510")
motor <- group_by(motor, year)
motor <- summarise(motor, emissions = sum(Emissions))
png(filename = "p2plot5linechar.png", bg = "white", width = 680, height = 680)
plot(motor$year, motor$emissions, col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Line Chart of Trending of Motor Vehicle Annual Emissions
in Baltimore from 1999 to 2008")
dev.off()
motor
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("Onroad", scc$Data.Category), ] #All the motor vehicle are belong to Onroad Data.Category, therefore, use Data.Category variable's Onroad type is better than orther variables matching
nei <- inner_join(nei,scc)
motor <- filter(nei, fips == "24510")
motor <- group_by(motor, year)
motor <- summarise(motor, emissions = sum(Emissions))
png(filename = "p2plot5linechar.png", bg = "white", width = 680, height = 680)
plot(motor$year, motor$emissions, col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Line Chart of Trending of Motor Vehicle Annual Emissions
in Baltimore from 1999 to 2008")
dev.off()
motor
library(dplyr)
setwd("~/ExData_Plotting_Project2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
nei <- tbl_df(NEI);scc <- tbl_df(SCC)
rm(NEI);rm(SCC)
scc <- scc[grep("Onroad", scc$Data.Category), ] #All the motor vehicle are belong to Onroad Data.Category, therefore, use Data.Category variable's Onroad type is better than orther variables matching
nei <- inner_join(nei,scc)
motor <- filter(nei, fips == "24510" | fips == "06037")
motor <- group_by(motor, fips, year)
motor <- summarise(motor, emissions = sum(Emissions))
motor
png(filename = "p2plot6linechar.png", bg = "white", width = 680, height = 680)
plot(motor$year, motor$emissions, col = "black",type = "l", xlab = "Year", ylab = expression('Total PM'[2.5]*" Emission (tones)"), main = "Line Chart of Trending of Motor Vehicle Annual Emissions
in Baltimore from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 680, height = 680)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Total Emissions From Motor\n Vehicle Sources in Baltimore City\n and Los Angeles County from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 680, height = 680)
fipscompare <- ggplot(motor, aes(year, log(emissions), color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore City\n and Los Angeles County from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 680, height = 680)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore and Los Angeles from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 480, height = 480)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore and Los Angeles from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 520, height = 480)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore and Los Angeles from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 540, height = 480)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore and Los Angeles from 1999 to 2008")
dev.off()
png(filename = "p2plot6linechar.png", bg = "white", width = 740, height = 480)
fipscompare <- ggplot(motor, aes(year, emissions, color = fips))
fipscompare + geom_line()+
scale_colour_discrete(name = "Country", label = c("Los Angeles","Baltimore"))+
xlab("Year") + ylab(expression('Total PM'[2.5]*" Emissions"))+
ggtitle("Comparison of Annual Emissions From Motor\n Vehicle Sources between Baltimore and Los Angeles from 1999 to 2008")
dev.off()
